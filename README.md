# blblcd

åŸºäº [bilibili-API-collect](https://github.com/SocialSisterYi/bilibili-API-collect) å¼€å‘çš„å“”å“©å“”å“©è§†é¢‘è¯„è®ºä¸‹è½½å·¥å…·ã€‚

## âœ¨ ä¸»è¦ç‰¹ç‚¹

* ğŸš€ **ä½¿ç”¨ä¾¿æ·**ï¼šå•æ–‡ä»¶å¯æ‰§è¡Œç¨‹åºï¼Œæ— éœ€å®‰è£…å…¶ä»–ä¾èµ–
* ğŸ“¥ **çµæ´»ä¸‹è½½**ï¼š
  * æ”¯æŒå•ä¸ª/å¤šä¸ªè§†é¢‘è¯„è®ºä¸‹è½½
  * å¯æŒ‰çƒ­è¯„/æ—¶é—´é¡ºåºæ’åº
  * æ”¯æŒä¸‹è½½æŒ‡å®šUPä¸»è§†é¢‘è¯„è®º
  * å¯æŒ‰æŠ•ç¨¿æ—¶é—´/æ”¶è—/æ’­æ”¾é‡æ’åº
* ğŸ” **è¯„è®ºå…¨é¢**ï¼š
  * æ”¯æŒä¸‹è½½å­è¯„è®ºå’Œéšè—è¯„è®º
  * æ”¯æŒä¸‹è½½"æ¥¼ä¸­æ¥¼"è¯„è®º
  * æ”¯æŒä¸‹è½½è¯„è®ºä¸­çš„å›¾ç‰‡
* ğŸ’» **è·¨å¹³å°æ”¯æŒ**ï¼š
  * Windows
  * MacOS
  * Linux

## âš ï¸ ä½¿ç”¨é¡»çŸ¥

* è¿™æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œæ²¡æœ‰å›¾å½¢ç•Œé¢
* å­è¯„è®ºä¼šè‡ªåŠ¨çˆ¬å–ï¼Œæ§åˆ¶å°ä¼šæ˜¾ç¤ºç›¸åº”é¡µç 
* å¦‚æœåªè·å–åˆ°å°‘é‡è¯„è®ºï¼ˆ10-20æ¡ï¼‰è€Œå®é™…åº”è¯¥æœ‰æ›´å¤šï¼Œå¾ˆå¯èƒ½æ˜¯ cookie å·²å¤±æ•ˆ
* CSV æ–‡ä»¶ä½¿ç”¨ UTF-8 ç¼–ç ä¿å­˜ï¼Œå»ºè®®ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æˆ–ä»£ç ç¼–è¾‘å™¨æ‰“å¼€ï¼ˆä¸è¦ç”¨ Microsoft Officeï¼‰
* ä¸ºé¿å…è§¦å‘åçˆ¬ï¼Œç¨‹åºé™åˆ¶äº†è¯·æ±‚é¢‘ç‡ï¼Œæ‰€ä»¥çˆ¬å–é€Ÿåº¦è¾ƒæ…¢
* ç›®å‰ä»¥ç»´æŠ¤ç°æœ‰åŠŸèƒ½ä¸ºä¸»ï¼Œæš‚ä¸æ¥å—æ–°åŠŸèƒ½å¼€å‘è¯·æ±‚
* åŸºäºåŸä½œè€…çš„åŸºç¡€ä¸Šä¿®æ”¹ï¼Œä¸»è¦æ˜¯ä¸ºäº†è‡ªå·±ç”¨ï¼Œå› æ­¤æœªç»è¿‡å®Œæ•´æµ‹è¯•
* ç›¸è¾ƒäºåŸç‰ˆï¼Œç§»é™¤æ•°æ®åˆ†æï¼ˆåœ°å›¾ç›¸å…³ï¼‰åŠŸèƒ½ï¼Œå¢å¼ºè‡ªå®šä¹‰è¾“å‡ºè·¯å¾„
* æ¬¢è¿é€šè¿‡ issues æäº¤ bug æŠ¥å‘Š

## ğŸ“ è¯„è®ºæ•°æ®å­—æ®µ

```
Uname          - ç”¨æˆ·åç§°
Sex            - æ€§åˆ«
Content        - è¯„è®ºå†…å®¹
Rpid           - è¯„è®ºID
Oid            - è¯„è®ºåŒºID
Bvid           - è§†é¢‘BVå·
Mid            - å‘é€è€…ID
Parent         - çˆ¶çº§è¯„è®º
Fansgrade      - ç²‰ä¸æ ‡ç­¾
Ctime          - è¯„è®ºæ—¶é—´æˆ³
Like           - ç‚¹èµæ•°
Following      - å…³æ³¨çŠ¶æ€
Current_level  - å½“å‰ç­‰çº§
Location       - ä½ç½®ä¿¡æ¯
```

## ğŸ“– ä½¿ç”¨æŒ‡å—

### å‡†å¤‡å·¥ä½œ

* **Cookie**ï¼šå¿…éœ€
* **MID**ï¼šUPä¸»IDï¼ˆæœç´¢UPä¸»è§†é¢‘æ—¶å¿…éœ€ï¼‰
* **BVID**ï¼šè§†é¢‘IDï¼ˆä¸‹è½½å•ä¸ª/å¤šä¸ªè§†é¢‘è¯„è®ºæ—¶å¿…éœ€ï¼‰

### è¾“å‡ºç›®å½•è¯´æ˜

#### åŸºç¡€è¾“å‡ºç›®å½•
- ä½¿ç”¨ `-output` æˆ– `-o` å‚æ•°æŒ‡å®šåŸºç¡€è¾“å‡ºç›®å½•
- é»˜è®¤å€¼ä¸º `./output`
- å¦‚æœä¸æŒ‡å®šå…¶ä»–è¾“å‡ºå‚æ•°ï¼Œæ‰€æœ‰æ–‡ä»¶éƒ½ä¼šä¿å­˜åœ¨æ­¤ç›®å½•ä¸‹

#### è¯„è®ºè¾“å‡ºç›®å½•
- ä½¿ç”¨ `--comment-output` å‚æ•°æŒ‡å®šè¯„è®ºå†…å®¹ä¿å­˜è·¯å¾„
- å¦‚æœä¸æŒ‡å®šï¼Œé»˜è®¤ä¿å­˜åœ¨åŸºç¡€è¾“å‡ºç›®å½•ä¸‹çš„è§†é¢‘BVå·æ–‡ä»¶å¤¹ä¸­
- ä¾‹å¦‚ï¼š`./output/BV1xx/comments.csv`

#### å›¾ç‰‡è¾“å‡ºç›®å½•
- ä½¿ç”¨ `--image-output` å‚æ•°æŒ‡å®šè¯„è®ºå›¾ç‰‡ä¿å­˜è·¯å¾„
- å¦‚æœä¸æŒ‡å®šï¼Œé»˜è®¤ä¿å­˜åœ¨è¯„è®ºå†…å®¹æ‰€åœ¨ç›®å½•çš„ `images` æ–‡ä»¶å¤¹ä¸­
- ä¾‹å¦‚ï¼š`./output/BV1xx/images/`

#### ç›®å½•ç»“æ„ç¤ºä¾‹

1. **é»˜è®¤æƒ…å†µ**ï¼ˆä¸æŒ‡å®šä»»ä½•è¾“å‡ºå‚æ•°ï¼‰ï¼š

### è·å–å¿…è¦ä¿¡æ¯

#### 1. è·å– Cookie
1. ç™»å½•[å“”å“©å“”å“©](https://www.bilibili.com/)
2. æŒ‰ `F12` æ‰“å¼€å¼€å‘è€…å·¥å…·
3. åˆ‡æ¢åˆ°"ç½‘ç»œ"æ ‡ç­¾
4. ç‚¹å‡»ä»»æ„è¯·æ±‚ï¼ˆæœ€å¥½æ˜¯ XHR æˆ– Fetch ç±»å‹ï¼‰
5. æ‰¾åˆ°å¹¶å¤åˆ¶ cookie å€¼
6. ä¿å­˜ä¸º `cookie.text` æ–‡ä»¶ï¼ˆå»ºè®®æ”¾åœ¨ä¸ blblcd ç›¸åŒç›®å½•ä¸‹ï¼‰


#### 2. è·å– UPä¸» MID
åœ¨UPä¸»ä¸ªäººç©ºé—´URLä¸­å¯ä»¥æ‰¾åˆ°MIDã€‚ä¾‹å¦‚ï¼š`https://space.bilibili.com/112233445` ä¸­çš„ `112233445` å°±æ˜¯MIDã€‚


#### 3. è·å–è§†é¢‘ BVID
åœ¨è§†é¢‘é¡µé¢URLä¸­å¯ä»¥æ‰¾åˆ°BVIDã€‚ä¾‹å¦‚ï¼š`https://www.bilibili.com/video/BV1Cm421T7Zg` ä¸­çš„ `BV1Cm421T7Zg` å°±æ˜¯BVIDã€‚


### å‘½ä»¤ç¤ºä¾‹

æŸ¥çœ‹æ‰€æœ‰å‘½ä»¤ï¼š
```bash
./blblcd -h
```

#### ä¸‹è½½è§†é¢‘è¯„è®º

åŸºç¡€ç”¨æ³•ï¼š
```bash
blblcd video BV1VJ4m1jk34K
```

å¤šä¸ªè§†é¢‘ï¼š
```bash
blblcd video BV1VJ4m1jk34K BV1sdfVJ4m1jksdf
```

æŒ‰å›å¤æ’åºï¼š
```bash
blblcd video BV1VJ4m1jk34K -corder 2
```

æŒ‡å®šcookieæ–‡ä»¶ï¼š
```bash
blblcd video BV1VJ4m1jk34K -cookie /path/to/cookiefile.text -corder 2
```

è‡ªå®šä¹‰è¾“å‡ºè·¯å¾„ï¼š
```bash
# æŒ‡å®šåŸºç¡€è¾“å‡ºç›®å½•
blblcd video BV1VJ4m1jk34K -output /path/to/output

# æŒ‡å®šè¯„è®ºè¾“å‡ºç›®å½•
blblcd video BV1VJ4m1jk34K --comment-output /path/to/comments

# æŒ‡å®šå›¾ç‰‡è¾“å‡ºç›®å½•
blblcd video BV1VJ4m1jk34K --image-output /path/to/images

# åŒæ—¶æŒ‡å®šæ‰€æœ‰è¾“å‡ºç›®å½•
blblcd video BV1VJ4m1jk34K -output /path/to/output --comment-output /path/to/comments --image-output /path/to/images
```

ä¸‹è½½è¯„è®ºä¸­çš„å›¾ç‰‡ï¼š
```bash
blblcd video BV1VJ4m1jk34K -img-download
```

è®¾ç½®æœ€å¤§é‡è¯•æ¬¡æ•°ï¼š
```bash
blblcd video BV1VJ4m1jk34K -max-try-count 5
```

å®Œæ•´å‚æ•°ç¤ºä¾‹ï¼š
```bash
blblcd video BV1VJ4m1jk34K \
  -cookie /path/to/cookie.text \
  -output /path/to/output \
  --comment-output /path/to/comments \
  --image-output /path/to/images \
  -img-download \
  -workers 5 \
  -max-try-count 3 \
  -corder 1
```

#### ä¸‹è½½UPä¸»è§†é¢‘è¯„è®º

åŸºç¡€ç”¨æ³•ï¼ˆé»˜è®¤è·å–å‰ä¸‰é¡µï¼Œæ¯é¡µ30æ¡è§†é¢‘ï¼‰ï¼š
```bash
blblcd up 123344555
```

æŒ‡å®šcookieï¼š
```bash
blblcd up 123344555 -cookie /path/to/cookiefile.text
```

æŒ‰æ”¶è—æ’åºï¼š
```bash
blblcd up 123344555 -skip 3 -pages 5 -vorder stow
```

å›ºå®šé¡µæ•°ï¼š
```bash
blblcd up 123344555 -pages 5
```

è·³è¿‡æŒ‡å®šé¡µæ•°ï¼š
```bash
blblcd up 123344555 -skip 3 -pages 5
```

è‡ªå®šä¹‰è¾“å‡ºè·¯å¾„ï¼š
```bash
# æŒ‡å®šåŸºç¡€è¾“å‡ºç›®å½•
blblcd up 123344555 -output /path/to/output

# æŒ‡å®šè¯„è®ºè¾“å‡ºç›®å½•
blblcd up 123344555 --comment-output /path/to/comments

# æŒ‡å®šå›¾ç‰‡è¾“å‡ºç›®å½•
blblcd up 123344555 --image-output /path/to/images

# åŒæ—¶æŒ‡å®šæ‰€æœ‰è¾“å‡ºç›®å½•
blblcd up 123344555 -output /path/to/output --comment-output /path/to/comments --image-output /path/to/images
```

è®¾ç½®å¹¶å‘æ•°ï¼š
```bash
blblcd up 123344555 -workers 10
```

ä¸‹è½½è¯„è®ºä¸­çš„å›¾ç‰‡ï¼š
```bash
blblcd up 123344555 -img-download
```

å®Œæ•´å‚æ•°ç¤ºä¾‹ï¼š
```bash
blblcd up 123344555 \
  -cookie /path/to/cookie.text \
  -output /path/to/output \
  --comment-output /path/to/comments \
  --image-output /path/to/images \
  -img-download \
  -workers 10 \
  -pages 5 \
  -skip 0 \
  -vorder pubdate \
  -max-try-count 3
```

#### å¸¸ç”¨ç»„åˆç¤ºä¾‹

1. **ä¸‹è½½çƒ­é—¨è§†é¢‘è¯„è®ºå¹¶æŒ‰ç‚¹èµæ’åº**ï¼š
```bash
blblcd video BV1VJ4m1jk34K -corder 1 -img-download
```

2. **ä¸‹è½½UPä¸»æœ€æ–°å‘å¸ƒçš„è§†é¢‘è¯„è®º**ï¼š
```bash
blblcd up 123344555 -vorder pubdate -pages 5
```

3. **ä¸‹è½½UPä¸»æœ€å¤šæ’­æ”¾çš„è§†é¢‘è¯„è®º**ï¼š
```bash
blblcd up 123344555 -vorder click -pages 5
```

4. **ä¸‹è½½UPä¸»æœ€å¤šæ”¶è—çš„è§†é¢‘è¯„è®º**ï¼š
```bash
blblcd up 123344555 -vorder stow -pages 5
```

5. **æ‰¹é‡ä¸‹è½½å¤šä¸ªè§†é¢‘è¯„è®ºå¹¶ä¿å­˜åˆ°æŒ‡å®šç›®å½•**ï¼š
```bash
blblcd video BV1xx BV2yy BV3zz -output /custom/output -img-download
```

6. **ä¸‹è½½UPä¸»è§†é¢‘è¯„è®ºå¹¶è®¾ç½®é«˜å¹¶å‘**ï¼š
```bash
blblcd up 123344555 -workers 10 -pages 5 -img-download
```

7. **ä¸‹è½½è§†é¢‘è¯„è®ºå¹¶è‡ªå®šä¹‰æ‰€æœ‰è¾“å‡ºè·¯å¾„**ï¼š
```bash
blblcd video BV1VJ4m1jk34K \
  -output /custom/output \
  --comment-output /custom/comments \
  --image-output /custom/images \
  -img-download
```

8. **ä¸‹è½½UPä¸»è§†é¢‘è¯„è®ºå¹¶è·³è¿‡å‰3é¡µ**ï¼š
```bash
blblcd up 123344555 -skip 3 -pages 5 -vorder pubdate
```

## ğŸ“œ å£°æ˜

* æºä»£ç ä»…ä¾›å­¦ä¹ äº¤æµä½¿ç”¨
* è¯·éµå®ˆå“”å“©å“”å“©ç›¸å…³è§„å®š
* blblcd ä¸ä¼šä¿å­˜æˆ–æ³„éœ² cookie
